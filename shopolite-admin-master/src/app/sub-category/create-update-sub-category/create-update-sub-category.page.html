<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/sub-category"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="isCreateMode()" class="ion-text-center header-margin-left">Create Sub Category</ion-title>
    <ion-title *ngIf="isUpdateMode()" class="ion-text-center header-margin-left">Update Sub Category</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >
  <ngx-ui-loader [loaderId]="'loader-subcategory-add'" class="full"></ngx-ui-loader>
  <!-- <ion-grid *ngIf="isActive"> -->

    <ion-item>
      <ion-label>Sub Category</ion-label>
      <ionic-selectable #selectComponentProduct  [(ngModel)]="item"  itemValueField="_id" itemTextField="name" [items]="categoriesData"
        [canSearch]="true" (onChange)="itemChange($event)">
      </ionic-selectable>
    </ion-item>

    <ion-grid>
    <form [formGroup]="subCategoryForm" (ngSubmit)="createCategory()">
      <ion-item>
        <ion-col size="6" size-md="6">




          <ion-item class="Form-Item">
            <ion-label class="ion-label" position="floating">Sub Category Name<span class="reqired-field">*</span>
            </ion-label>
            <ion-input type="text" formControlName="name" placeholder="Category Name"></ion-input>
            <ion-note *ngIf="
              !subCategoryForm.get('name').valid && subCategoryForm.get('name').touched" color="danger" position="fixed"
              class="ion-padding">
              please enter data.
            </ion-note>
          </ion-item>


          <ion-item class="Form-Item">
            <ion-label class="ion-label" position="floating">Manual Ranking(Subcategory)<span class="reqired-field">*</span>
            </ion-label>
            <ion-input type="text" formControlName="manualRankingSubcat" placeholder="Manual Ranking(Sub Category)"></ion-input>
            <ion-note *ngIf="
              !subCategoryForm.get('manualRankingSubcat').valid && subCategoryForm.get('manualRankingSubcat').touched" color="danger" position="fixed"
              class="ion-padding">
              please enter data.
            </ion-note>
          </ion-item>





          <ion-item class="status-design Form-Item">
            Display Sub Category ?
            <ion-toggle formControlName="status" color="primary" ></ion-toggle>
          </ion-item>
        <!-- </ion-card> -->
      </ion-col>
        <ion-col size="6" size-md="6">
          <!-- <ion-card class="padding-card"> -->

            <!-- image component -->
            <!-- image component -->
            <div class="row" class="profilePic">
              <label for="uploadImage">
                <div *ngIf="imageData && imageData.filePath" class="imageMain">
                  <img width="300px" height="300px" src="{{ s3path + imageData.filePath }}" />
                  <ion-button class="material-icons cancelButton" color="danger" (click)="deleteFile()">
                    <ion-icon name="trash-outline"></ion-icon>
                  </ion-button>
                </div>
              </label>
              <div *ngIf="!(imageData && imageData.filePath)">
                <label for="uploadImage">
                  <div class="initImgMain">
                    <!-- <span class="material-icons"> icon </span> -->
                    <ion-icon class="icon-size" name="image-outline"></ion-icon> <br>
                    <p>Select Sub Category Image</p>
                  </div>
                </label>
              </div>
            </div>
            <input type="file" name="uploadImage" id="uploadImage" (change)="uploadFileToS3($event)"
              accept=".png, .jpg, .jpeg" />
</ion-col>

      </ion-item>

        <ion-row>
          <!-- <ion-col size="6" size-md="6">
            <ion-button color="danger" class="buttom-margin-left"> -->
              <!-- <ion-icon name="checkmark" slot="icon-only"> </ion-icon> -->
              <!-- Reset Form
            </ion-button>
          </ion-col> -->

          <ion-col>

            <ion-button *ngIf="isCreateMode()" type="submit" [disabled]="!subCategoryForm.valid" expand="full">
              <!-- <ion-icon name="checkmark" slot="icon-only"> </ion-icon> -->
              Create Sub Category
            </ion-button>
            <ion-button *ngIf="isUpdateMode()" [disabled]="!subCategoryForm.valid" expand="full" (click)="updateCategory()">
              <!-- <ion-icon name="checkmark" slot="icon-only"> </ion-icon> -->
              Update Sub Category
            </ion-button>
          </ion-col>
        </ion-row>
    </form>
  </ion-grid>

  <!-- [(ngModel)]="location" -->

  <!-- <app-image-upload [imageData]="image" (onSave)="saveImage($event)" ></app-image-upload> -->

</ion-content>









